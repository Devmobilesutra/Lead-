LeadScreen As screen:
    OnVisible: |-
        =Set(VarChatMessage,false);
        Set(VarLeadDetails,true);
        Set(VarLeadProposal,false);
        Set(VarLeadMessages,false);
        Refresh(LeadInformations);

    ctnmainLdS As groupContainer.verticalAutoLayoutContainer:
        Height: =Parent.Height
        LayoutDirection: =LayoutDirection.Vertical
        LayoutGap: =7
        LayoutMode: =LayoutMode.Auto
        LayoutOverflowY: =LayoutOverflow.Scroll
        Width: =Parent.Width
        Y: =ctnHeaderLeadScreen.Height+ctnHeaderLeadScreen.Y
        ZIndex: =1

        ctnbackLdS As groupContainer.horizontalAutoLayoutContainer:
            AlignInContainer: =AlignInContainer.Start
            FillPortions: =0
            Height: =80
            LayoutAlignItems: =LayoutAlignItems.Center
            LayoutGap: =20
            LayoutMinHeight: =100
            LayoutMinWidth: =250
            LayoutMode: =LayoutMode.Auto
            PaddingLeft: =20
            Width: =Parent.Width
            ZIndex: =2

            btnbackLdS As button:
                BorderColor: =//ColorFade(Self.Fill, -15%)
                BorderThickness: =0
                Fill: =Header.Red
                FocusedBorderThickness: =0
                HoverFill: =//ColorFade(RGBA(56, 96, 178, 1), -20%)
                OnSelect: |-
                    =Set(VarPopUpInprogress,false);
                    Navigate(LeadListScreen)
                PressedFill: =//Self.Color
                RadiusBottomLeft: =0
                RadiusBottomRight: =0
                RadiusTopLeft: =0
                RadiusTopRight: =0
                Text: =" Back"
                ZIndex: =1

        ctnmechanicnameLdS As groupContainer.horizontalAutoLayoutContainer:
            AlignInContainer: =AlignInContainer.SetByContainer
            FillPortions: =0
            Height: =40
            LayoutMinHeight: =100
            LayoutMinWidth: =250
            LayoutMode: =LayoutMode.Auto
            PaddingLeft: =20
            ZIndex: =3

            lblmechanicnameLdS As label:
                FontWeight: =FontWeight.Semibold
                Size: =16
                Text: ="Mechanic Name"
                Width: =200
                ZIndex: =1

            lblmechanicnamevalueLdS As label:
                Size: =16
                Text: =Gallery1.Selected.MechanicName
                Width: =Parent.Width/2
                ZIndex: =2

        ctncontractnumberLdS As groupContainer.horizontalAutoLayoutContainer:
            AlignInContainer: =AlignInContainer.SetByContainer
            FillPortions: =0
            Height: =40
            LayoutMinHeight: =100
            LayoutMinWidth: =250
            LayoutMode: =LayoutMode.Auto
            PaddingLeft: =20
            ZIndex: =5

            lblcontractnumberLdS As label:
                FontWeight: =FontWeight.Semibold
                Size: =16
                Text: ="Contract No."
                Width: =200
                ZIndex: =1

            lblcontractnumbervalueLdS As label:
                Size: =16
                Text: =Gallery1.Selected.'ContractNumber '
                Width: =Parent.Width/2
                ZIndex: =2

        ctnestimatenumberLdS As groupContainer.horizontalAutoLayoutContainer:
            AlignInContainer: =AlignInContainer.SetByContainer
            FillPortions: =0
            Height: =40
            LayoutMinHeight: =100
            LayoutMinWidth: =250
            LayoutMode: =LayoutMode.Auto
            PaddingLeft: =20
            ZIndex: =6

            lblestimatenumberLdS As label:
                FontWeight: =FontWeight.Semibold
                Size: =16
                Text: ="Estimate No."
                Width: =200
                ZIndex: =1

            lblestimatenumbervalueLdS As label:
                Size: =16
                Text: ="NA"
                Width: =Parent.Width/2
                ZIndex: =2

        ctnqqteamnameLdS As groupContainer.horizontalAutoLayoutContainer:
            AlignInContainer: =AlignInContainer.SetByContainer
            FillPortions: =0
            Height: =40
            LayoutMinHeight: =100
            LayoutMinWidth: =250
            LayoutMode: =LayoutMode.Auto
            PaddingLeft: =20
            ZIndex: =7

            lblqqteamnameLdS As label:
                FontWeight: =FontWeight.Semibold
                Size: =16
                Text: ="QQ Team name"
                Width: =200
                ZIndex: =1

            lblqqteamnamevalueLdS As label:
                Size: =16
                Text: =If(QQname=true,"Schindler QQ","Not Assigned")
                Width: =Parent.Width/2
                ZIndex: =2

        ctnglryheadingLdS As groupContainer.horizontalAutoLayoutContainer:
            AlignInContainer: =AlignInContainer.SetByContainer
            FillPortions: =0
            Height: =60
            LayoutMinHeight: =100
            LayoutMinWidth: =250
            LayoutMode: =LayoutMode.Auto
            ZIndex: =8

            ctnleaddetailstabLdS As groupContainer.verticalAutoLayoutContainer:
                AlignInContainer: =AlignInContainer.SetByContainer
                FillPortions: =0
                Height: =Parent.Height
                LayoutAlignItems: =LayoutAlignItems.Center
                LayoutDirection: =LayoutDirection.Vertical
                LayoutJustifyContent: =LayoutJustifyContent.Center
                LayoutMinHeight: =50
                LayoutMinWidth: =250
                LayoutMode: =LayoutMode.Auto
                Width: =180
                ZIndex: =1

                btnleaddetailstabLdS As button:
                    BorderThickness: =0
                    Color: =If(VarLeadDetails= true,Header.Black,Header.Red)
                    Fill: =Header.White
                    FocusedBorderThickness: =
                    HoverColor: =//RGBA(255, 255, 255, 1)
                    HoverFill: =//ColorFade(RGBA(56, 96, 178, 1), -20%)
                    OnSelect: |-
                        =Set(VarLeadDetails,true);
                        Set(VarLeadProposal,false);
                        Set(VarLeadMessages,false);
                    PressedFill: =//Self.Color
                    RadiusBottomLeft: =0
                    RadiusBottomRight: =0
                    RadiusTopLeft: =0
                    RadiusTopRight: =0
                    Text: ="Lead Details"
                    Width: =170
                    ZIndex: =1

                icnhorizontalleaddetailsLdS As icon.Add:
                    Color: =Header.Red
                    Fill: =Header.Red
                    Height: =3
                    Icon: =Icon.HorizontalLine
                    Visible: =If(VarLeadDetails= true,true,false)
                    Width: =150
                    ZIndex: =2

            ctnleadmessagestabLdS As groupContainer.verticalAutoLayoutContainer:
                AlignInContainer: =AlignInContainer.SetByContainer
                FillPortions: =0
                Height: =Parent.Height
                LayoutAlignItems: =LayoutAlignItems.Center
                LayoutDirection: =LayoutDirection.Vertical
                LayoutJustifyContent: =LayoutJustifyContent.Center
                LayoutMinHeight: =50
                LayoutMinWidth: =250
                LayoutMode: =LayoutMode.Auto
                Width: =180
                ZIndex: =2

                btnleadmessagetabLdS As button:
                    BorderThickness: =0
                    Color: =If(VarLeadMessages= true,Header.Black,Header.Red)
                    Fill: =Header.White
                    FocusedBorderThickness: =
                    HoverColor: =//RGBA(255, 255, 255, 1)
                    HoverFill: =//ColorFade(RGBA(56, 96, 178, 1), -20%)
                    OnSelect: |-
                        =Set(VarLeadDetails,false);
                        Set(VarLeadProposal,false);
                        Set(VarLeadMessages,true);
                    PressedFill: =//Self.Color
                    RadiusBottomLeft: =0
                    RadiusBottomRight: =0
                    RadiusTopLeft: =0
                    RadiusTopRight: =0
                    Text: ="Lead Messages"
                    Width: =170
                    ZIndex: =1

                icnhorizontalleadmessageLdS As icon.Add:
                    Color: =Header.Red
                    Fill: =Header.Red
                    Height: =3
                    Icon: =Icon.HorizontalLine
                    Visible: =If(VarLeadMessages= true,true,false)
                    Width: =150
                    ZIndex: =2

            ctnleadproposaltabLdS As groupContainer.verticalAutoLayoutContainer:
                AlignInContainer: =AlignInContainer.SetByContainer
                FillPortions: =0
                Height: =Parent.Height
                LayoutAlignItems: =LayoutAlignItems.Center
                LayoutDirection: =LayoutDirection.Vertical
                LayoutJustifyContent: =LayoutJustifyContent.Center
                LayoutMinHeight: =50
                LayoutMinWidth: =250
                LayoutMode: =LayoutMode.Auto
                Width: =180
                ZIndex: =3

                btnleadproposaltabLdS As button:
                    BorderThickness: =0
                    Color: =If(VarLeadProposal= true,Header.Black,Header.Red)
                    Fill: =Header.White
                    FocusedBorderThickness: =
                    HoverColor: =//RGBA(255, 255, 255, 1)
                    HoverFill: =//ColorFade(RGBA(56, 96, 178, 1), -20%)
                    OnSelect: |
                        =Set(VarLeadDetails,false);
                        Set(VarLeadProposal,true);
                        Set(VarLeadMessages,false);
                    PressedFill: =//Self.Color
                    RadiusBottomLeft: =0
                    RadiusBottomRight: =0
                    RadiusTopLeft: =0
                    RadiusTopRight: =0
                    Text: ="Lead Proposal"
                    Visible: =false
                    Width: =170
                    ZIndex: =1

                icnhorizontalleadproposalLdS As icon.Add:
                    Color: =Header.Red
                    Fill: =Header.Red
                    Height: =3
                    Icon: =Icon.HorizontalLine
                    Visible: =If(VarLeadProposal= true,true,false)
                    Width: =150
                    ZIndex: =2

        ctnhorizontallineleaddetailsglryLdS As groupContainer.horizontalAutoLayoutContainer:
            AlignInContainer: =AlignInContainer.SetByContainer
            FillPortions: =0
            Height: =2
            LayoutMinHeight: =100
            LayoutMinWidth: =250
            LayoutMode: =LayoutMode.Auto
            PaddingLeft: =20
            Width: =Parent.Width
            ZIndex: =9

            icnhorizontallineleaddetailsglryLdS As icon.AddDocument:
                Color: =RGBA(217, 217, 217, 1)
                Fill: =RGBA(217, 217, 217, 1)
                Height: =Parent.Height
                Icon: =Icon.HorizontalLine
                Width: =Parent.Width-40
                ZIndex: =1

        ctnglrymainLdS As groupContainer.manualLayoutContainer:
            AlignInContainer: =AlignInContainer.SetByContainer
            FillPortions: =0
            Height: =Parent.Height+100
            LayoutMinHeight: =100
            LayoutMinWidth: =250
            Width: =Parent.Width
            ZIndex: =10

            ctnleaddetailsLdS As groupContainer.manualLayoutContainer:
                BorderColor: =RGBA(0, 0, 0, 0.16)
                BorderThickness: =2
                Fill: =RGBA(249, 249, 249, 1)
                Height: =Parent.Height+100
                Visible: =VarLeadDetails
                Width: =Parent.Width-40
                X: =20
                ZIndex: =3

        Container27 As groupContainer.horizontalAutoLayoutContainer:
            AlignInContainer: =AlignInContainer.SetByContainer
            FillPortions: =0
            Height: =100
            LayoutMinHeight: =100
            LayoutMinWidth: =250
            LayoutMode: =LayoutMode.Auto
            X: =19
            Y: =ctnmainLdS.Height+ctnmainLdS.Y
            ZIndex: =11

    ctnHeaderLeadScreen As groupContainer.manualLayoutContainer:
        Fill: =RGBA(227, 43, 43, 1)
        Height: =80
        Width: =Parent.Width
        ZIndex: =2

        imguserLdS As image:
            Fill: =RGBA(253, 222, 207, 1)
            Height: =50
            Image: |-
                =//'man-avatar'
                User().Image
            RadiusBottomLeft: =91
            RadiusBottomRight: =91
            RadiusTopLeft: =91
            RadiusTopRight: =91
            Width: =50
            X: =lblheaderLdS.X+lblheaderLdS.Width
            Y: =16
            ZIndex: =1

        lblusernameLdS As label:
            Align: =Align.Center
            Color: =Header.White
            FontWeight: =FontWeight.Semibold
            Height: =Parent.Height
            Text: |-
                =//"Hi Sam Martin"
                User().FullName
            Width: =ctnHeaderLeadScreen.Width/8
            X: =imguserLdS.X+ imguserLdS.Height
            ZIndex: =2

        lblheaderLdS As label:
            Align: =Align.Center
            Color: =Header.White
            Fill: =RGBA(227, 43, 43, 1)
            FontWeight: =FontWeight.Bold
            Height: =Parent.Height
            Size: =26
            Text: =" Leads"
            Width: =ctnHeaderLeadScreen.Width/1.5
            X: =imgSchindlerlogoLdS.Width+imgSchindlerlogoLdS.X
            ZIndex: =3

        imgSchindlerlogoLdS As image:
            Fill: =RGBA(255, 255, 255, 1)
            Height: =Parent.Height
            Image: =SchindlerImage
            PaddingBottom: =5
            PaddingLeft: =2
            PaddingRight: =1
            PaddingTop: =5
            Width: =ctnHeaderLeadScreen.Width/10
            ZIndex: =4

    grpchatmessageLdS As group:
        Height: =5
        Width: =5
        X: =40
        Y: =40
        ZIndex: =10

        rectfullchatmessageLdS As rectangle:
            Fill: =RGBA(0, 0, 0, 0.29)
            Height: =Parent.Height
            Visible: =VarChatMessage
            Width: =Parent.Width
            ZIndex: =3

        rectchatmessage1LdS As rectangle:
            Fill: =RGBA(255, 255, 255, 1)
            Height: =405
            Visible: =VarChatMessage
            Width: =700
            X: =(Parent.Width -Self.Width)/2
            Y: =(Parent.Height - Self.Height)/2
            ZIndex: =4

        ctnchatmessageheadingLdS As groupContainer.horizontalAutoLayoutContainer:
            Height: =50
            LayoutMode: =LayoutMode.Auto
            Visible: =VarChatMessage
            Width: =rectchatmessage1LdS.Width
            X: =rectchatmessage1LdS.X
            Y: =rectchatmessage1LdS.Y+10
            ZIndex: =5

            lblchatmessageheadingLdS As label:
                FontWeight: =FontWeight.Semibold
                PaddingLeft: =20
                Text: |-
                    ="Enter message to technician : Schindler guest "
                Width: =Parent.Width-70
                ZIndex: =1

            icnclosechatmessageLdS As icon.Cancel:
                Color: =RGBA(153, 153, 153, 1)
                Height: =35
                Icon: =Icon.Cancel
                OnSelect: |-
                    =Set(VarChatMessage,false);
                    Reset(txtinptchatmessageLdS);
                Width: =30
                ZIndex: =2

        rectchatmessageLdS As rectangle:
            BorderColor: =RGBA(179, 179, 179, 1)
            BorderThickness: =2
            Fill: =RGBA(255, 255, 255, 1)
            Height: =250
            Visible: =VarChatMessage
            Width: =656
            X: =rectchatmessage1LdS.X+20
            Y: =ctnchatmessageheadingLdS.Y+ctnchatmessageheadingLdS.Height +10
            ZIndex: =6

        icnhorizontallineLdS As icon.Add:
            Color: =RGBA(179, 179, 179, 1)
            Fill: =RGBA(179, 179, 179, 1)
            Height: =2
            Icon: =Icon.HorizontalLine
            Visible: =VarChatMessage
            Width: =rectchatmessageLdS.Width
            X: =rectchatmessageLdS.X
            Y: =rectchatmessageLdS.Y +rectchatmessageLdS.Height+10
            ZIndex: =7

        btnsendchatmessageLdS As button:
            BorderThickness: =0
            DisabledFill: =RGBA(237, 237, 237, 1)
            DisplayMode: |-
                =If(
                    Connection.Connected,
                    DisplayMode.Edit,
                    DisplayMode.Disabled
                )
            Fill: =RGBA(255, 0, 0, 1)
            FocusedBorderThickness: =
            HoverFill: =//ColorFade(RGBA(56, 96, 178, 1), -20%)
            OnSelect: |
                =Set(VarChatMessage,false);
            PressedColor: =Self.Color
            PressedFill: =Self.Fill
            Text: ="Send Message"
            Visible: =VarChatMessage
            X: =(Parent.Width-Self.Width)/2
            Y: =icnhorizontallineLdS.Y+20
            ZIndex: =8

        txtinptchatmessageLdS As text:
            BorderThickness: =0
            Default: =
            Fill: =RGBA(255,255,255,1)
            FocusedBorderColor: =RGBA(179, 179, 179, 1)
            FocusedBorderThickness: =2
            Height: =rectchatmessageLdS.Height
            HintText: ="Type here ..."
            HoverBorderColor: =RGBA(179, 179, 179, 1)
            HoverFill: =RGBA(0, 0, 0, 0)
            Mode: =TextMode.MultiLine
            PressedBorderColor: =RGBA(179, 179, 179, 1)
            RadiusBottomLeft: =20
            RadiusBottomRight: =20
            RadiusTopLeft: =20
            RadiusTopRight: =20
            Visible: =VarChatMessage
            Width: =rectchatmessageLdS.Width
            X: =rectchatmessageLdS.X
            Y: =rectchatmessageLdS.Y
            ZIndex: =9

